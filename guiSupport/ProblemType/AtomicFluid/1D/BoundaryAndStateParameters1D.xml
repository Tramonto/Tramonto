<Maui>

    <!--
        Define a base class for the two common types
        of boundary conditions:
        equilibrium problems
        steady state (transport) problems

        Need to specify a 1D (and later 2D and 3D classes)
        because transport option includes picking a dimension 
        direction and there are some special 1D options
    -->

    <Class type="BoundaryConditionTypes1D" 
        label="Boundary condition type (default equilibrium)">
    </Class>

        <Class type="EquilibriumBoundaryConditions1D"
            base="BoundaryConditionTypes1D"
            label="Equilibrium Boundary Conditions">
            <Fields>
                <Table name="fluidBulkDensities" label="Fluid bulk densities"
                    collapsible="false">
                    <Header name="fluidBulkDensitiesHeader" 
                        label="Fluid bulk densities">
                        <Reference name="component" label="Fluid" 
                            path="root/fluidNames/componentsArray" 
                            output="dereference" />
                        <Double name="rhoB" label="Rho_b" default="0.0" 
                            optional="false" />
                    </Header>
                </Table>
            </Fields>
        </Class>
  
        <!--
            This collection of Pore classes is needed for a special set of
            problems handled by the transport boundary conditions
            which follows
        -->
            
            <Class type="OneDPoreGeometry" label="(default Not applicalbe)"
                collapsible="false">
            </Class>

            <Class type="NotAOneDPoreGeometry" label="Not applicable"
                base="OneDPoreGeometry">
            </Class>

            <Class type="UnitAreaOneDPoreGeometry" label="Unit area pore"
                base="OneDPoreGeometry">
                <Fields>
                    <Double name="radius" label="Radius" default="0.0" optional="false"/>
                    <Double name="length" label="Length" default="0.0" optional="false"/>
                </Fields>
            </Class>
            
            <Class type="CylindricalPoreOneDPoreGeometry" label="Cylindrical pore"
                base="OneDPoreGeometry">
                <Fields>
                    <Double name="radius" label="Radius" default="0.0" optional="false"/>
                    <Double name="length" label="Length" default="0.0" optional="false"/>
                </Fields>
            </Class>

            <Class type="VariablePoreOneDPoreGeometry" label="Variable pore size"
                base="OneDPoreGeometry">
                <Fields>
                    <Table name="variablePoreOneDPoreGeometryTable" 
                        label="Variable size pore geometry"
                        collapsible="false">
                        <Header name="variablePoreHeader" 
                            label="Pore parameters">
                            <Integer name="segmentNumber" label="Segment number" 
                                default="0"/> 
                            <Double name="radiusLeft" label="Left radius" 
                                default="0.0" optional="false"/>
                            <Double name="radiusRight" label="Right radius" 
                                default="0.0" optional="false"/>
                            <Double name="length" label="Length" default="0.0" 
                                optional="false"/>
                        </Header>
                    </Table>
                </Fields>
            </Class>

        <Class type="TransportBoundaryConditions1D"
            base="BoundaryConditionTypes1D"
            label="Transport Boundary Conditions">
            <Fields>

                <String name="linearTransport" label="Transport mechanism">
                    <Menu options="Linear|Non-Linear"/>
                </String>
                <String name="gradientDirection" label="Gradient direction">
                    <Menu options="x"/>
                </String>
                <Double name="xConstantMu" 
                    label="Position in gradient direction where potential is constant"
                    default="0.0" optional="false"/>
                <OneDPoreGeometry name="oneDPoreGeometry"
                    label="One dimensional pore geometry"/>
                <Double name="electricPotentialLBB"
                    label="Electric potential (left, bottom or back)"
                    default="0.0" optional="false"/>
                <Double name="electricPotentialRTF"
                    label="Electric potential (right, top, front)"
                    default="0.0" optional="false"/>
                <Double name="velocity" label="Center of mass velocity" 
                    default="0.0" optional="false"/>
                <Table name="fluidBulkDensities" label="Fluid bulk densities"
                    collapsible="false">
                    <Header name="fluidBulkDensitiesHeader" 
                        label="Fluid bulk densities">
                        <Reference name="component" label="Fluid" 
                            path="root/fluidNames/componentsArray" 
                            output="dereference" />
                        <Double name="rhoB1" label="Rho (left, bottom, back)" default="0.0" 
                            optional="false" />
                        <Double name="rhoB2" label="Rho (right, top, front)" default="0.0" 
                            optional="false" />
                        <Double name="diffCoef" label="Diffusion coef." default="0.0" 
                            optional="false" />
                    </Header>
                </Table>

            </Fields>
        </Class>

    <!--
        This class deals with the treatment of reflections of solid surfaces
        in adjoining computational cells
    -->
    <Class type="SurfaceReflections1D" 
        label="Surface treatment in adjoining domains.">
        <Fields>
            <Comment name="aComment">
            For surfaces that share the same link number, a check in a 
            given direction indicates that surfaces in adjoining
            computational cells across reflective boundaries are
            independent and different surfaces.
            </Comment>
            <Comment name="anotherComment">
            For example, consider a cylindrical surface with its long axis
            parallel to the z-coordinate of the system and assume all 
            boundaries of the 3D domain are reflective.  In the x and y 
            directions, there are independent surfaces beyond the boundaries
            while in the z direction, the same cylinder is extended.  Thus,
            a check would be needed in the x and y directions because the
            reflected images are of different surfaces while no check is
            needed in the z direction because the reflected images are of
            the same surface.
            </Comment>
            
            <Table name="SurfaceReflections" label="Reflected Surface Treatment"
                collapsible="false">
                <Header name="ReflectedSurfacesHeader" 
                    label="Reflected surfaces">
                    <Integer name="linkNumber" label="Surface link number" 
                        default="0" optional="false"/>
                    <Boolean name="xReflections" label="X direction"
                        default="false"/>
                </Header>
            </Table>

        </Fields>
    </Class>

    <!--
        Here we add in classes for charges inside surfaces
    -->
    
    <Class type="ChargedSurfaceBoundaryConditions1D"
         label="(default No charge)">
    </Class>
    
    <Class type="NoCharge1D" label="No charge" 
        base="ChargedSurfaceBoundaryConditions1D">
    </Class>

    <Class type="ChargedSurfaces1D" label="Charged surfaces"
        base="ChargedSurfaceBoundaryConditions1D">
        <Fields>
            <Table name="ChargedSurfaces" label="Charged Surfaces"
                collapsible="false">
                <Header name="ChargedSurfacesHeader" 
                    label="Charged surfaces">
                    <Reference name="surface" label="Surface" 
                        path="root/surfaceNames/surfaceArray" 
                        output="dereference" />
                    <String name="typeBCElec" label="Type of Boundary Condition"
                        default="Neutral surface" optional="false">
                        <Menu options="Neutral surface|Constant potential|Constant surface charge|Atomic charges" />
                    </String>
                    <Double name="elecParameter" label="Parameter value" 
                        default="0.0" optional="false" />
                </Header>
            </Table>

            <Table name="LocalCharges" label="Local charges"
                collapsible="false">
                <Header name="LocalChargesHeader" 
                    label="Local charges">
                    <Double name="chargeValue" label="Charge value" 
                        default="0.0" optional="false" />
                    <Double name="chargeDiameter" label="Charge diameter" 
                        default="0.0" optional="false" />
                    <Double name="chargeX" label="x coordinate" 
                        default="0.0" optional="false" />
                </Header>
            </Table>
            <String name="chargeTypeAtoms" label="Charge type for atoms"
                default="Point charge" optional="false">
                    <Menu options="Point charge|Smeared charge over diameter|Background charge"/>
            </String>
            <String name="chargeTypeLocal" label="Charge type for local charges"
                default="Point charge" optional="false">
                    <Menu options="Point charge|Smeared charge over diameter|Background charge"/>
            </String>
            <Boolean name="chargeProfile" 
                label="Linear profile of charge between two points aligned with principle axes"
                default="false"/>
        </Fields>
    </Class>


    <!--
        A few classes for semi-permeable surfaces
        (This will be specific to atomic problems, 
        polymeric problems will need their own class
    -->
    <Class type="SemiPermeableSurfacesAtomic" label="Semi-Permeable Surfaces">
        <Fields>
            <Table name="PermeableSurfaces" label="Permeable Surfaces"
                collapsible="false">
                <Header name="PermeableSurfacesHeader" 
                    label="Permeable surfaces">
                    <Reference name="surface" label="Surface" 
                        path="root/surfaceNames/surfaceArray" 
                        output="dereference" />
                    <Reference name="component" label="Fluid" 
                        path="root/fluidNames/componentsArray" 
                        output="dereference" />
                    <Double name="vExtMembrane" label="Potential value" 
                        default="0.0" optional="false" />
                </Header>
            </Table>
            <Comment name="aComment">
                It is only necessary to list permeable surfaces.
                Surfaces not listed are assumed impermeable.
            </Comment>
        </Fields>
    </Class>


    <!-- 
        Classes for variable dielectric 
        boundary conditions
    -->
    <Class type="DielectricBase" 
        label="(default constant everywhere)">
    </Class>
   
    <Class type="DielectricConstantEverywhere"
        base="DielectricBase"
        label="Constant everywhere">
        <Fields>
            <Double name="dielectricBulk" label="Builk dielectirc" 
                default="0.0" optional="false" />
        </Fields>
    </Class>

    <Class type="DielectricFluidWallsDifferent"
        base="DielectricBase"
        label="Fluid and walls are different.">
        <Fields>
            <Double name="dielectricBulk" label="Builk dielectirc" 
                default="0.0" optional="false" />
            <Table name="SurfacesDielectrics" label="Surface Dielectrics"
                collapsible="false">
                <Header name="SurfacesDielectricsHeader" 
                    label="Surfaces dielectrics">
                    <Reference name="surface" label="Surface" 
                        path="root/surfaceNames/surfaceArray" 
                        output="dereference" />
                    <Double name="dielectricWall" label="Dielectirc" 
                        default="0.0" optional="false" />
                </Header>
            </Table>
        </Fields>
    </Class>
    
    <Class type="DielectricBulkWallPore"
        base="DielectricBase"
        label="Bulk fluid, pore fluid and walls">
        <Fields>
            <Double name="dielectricBulk" label="Builk dielectirc" 
                default="0.0" optional="false" />
            <Double name="dielectricWall" label="Pore dielectirc" 
                default="0.0" optional="false" />
            <Double name="dielectricDistance" label="Distance from wall for pore dielectric" 
                default="0.0" optional="false" />
            <Table name="SurfacesDielectrics" label="Surface Dielectrics"
                collapsible="false">
                <Header name="SurfacesDielectricsHeader" 
                    label="Surfaces dielectrics">
                    <Reference name="surface" label="Surface" 
                        path="root/surfaceNames/surfaceArray" 
                        output="dereference" />
                    <Double name="dielectricWall" label="Dielectirc" 
                        default="0.0" optional="false" />
                </Header>
            </Table>
        </Fields>
    </Class>

    <Class type="DielectricConstantWallsVariesFluid"
        base="DielectricBase"
        label="Constant in walls varries with density in fluid.">
        <Fields>
            <Double name="dielectricBulk" label="Builk dielectirc" 
                default="0.0" optional="false" />
            <Table name="SurfacesDielectrics" label="Surface Dielectrics"
                collapsible="false">
                <Header name="SurfacesDielectricsHeader" 
                    label="Surfaces dielectrics">
                    <Reference name="surface" label="Surface" 
                        path="root/surfaceNames/surfaceArray" 
                        output="dereference" />
                    <Double name="dielectricWall" label="Dielectirc" 
                        default="0.0" optional="false" />
                </Header>
            </Table>
        </Fields>
    </Class>
    

    <Class type="DielectricParameters" label="Dielectric Parameters">
        <Fields>
            <DielectricBase name="dielectricBase" label="Dielectric properties"/>
        </Fields>
    </Class>

    <!--
        Finally, this class combines all the elements that go into
        a set of boundary conditions
    -->
    <Class type="BoundaryConditions1D" 
        label="Boundary conditions">
        <Fields>
            <BoundaryConditionTypes1D name="boundaryConditionTypes1D"
                label="Boundary condition type" collapsible="true" 
                beginCollapsed="true"/>
            <SurfaceReflections1D name="surfaceReflections1D"
                label="Treatment of reflected sufaces" 
                collapsible="true" beginCollapsed="true"/>
            <ChargedSurfaceBoundaryConditions1D 
                name="chargedSurfaceBoundaryConditions1D"
                label="Charge boundary conditions"
                collapsible="true"
                beginCollapsed="true"/>
            <SemiPermeableSurfacesAtomic
                name="semiPermeableSurfacesAtomic"
                label="Semi-Permeable Surfaces"
                collapsible="true"
                beginCollapsed="true"/>
            <DielectricParameters name="dielectricParameters"
                label="Dielectric Parameters"
                collapsible="true"
                beginCollapsed="true"/>
        </Fields> 
    </Class>

</Maui>
