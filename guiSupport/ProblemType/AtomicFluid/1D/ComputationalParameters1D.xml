<Maui>

<!--**************Computational Parameters*******************-->

<!--************** RealSpaceMesh specifications *************-->

<Class type="RealSpaceMesh" label="(default 1-D Mesh)" />

<!-- 
    Each mesh dimension needs a length and mesh grid line spacing,
    along with boudary conditions for each side 
-->

<Class type="Xdim" label="X-dimension specifications">
    <Fields>
        <Double name="sigma" 
            label="Unit length scale, sigma (1.0 for dimensionless)"
	    default="1.0" lower="0.0" optional="false" />
        <Double name="domainSize" 
            label="Computational domain size (units of sigma)"
            default="1"  lower="0" optional="false"/>
        <Double name="meshDivisions" 
            label="Mesh divisions per unit length"
            default="1"  lower="1" optional="false"/>
        <!--
        <Double name="size_x" 
            label="Length of mesh (Size_x)" 
	    default="0.0" lower="0.0" optional="false" />
        <Double name="esize_x" 
            label="Mesh spacing (Esize_x)" 
	    default="0.0" lower="0.0" optional="false" /> 
        -->
        <String name="bclbb" label="Left boundary condition">
            <Menu options="Wall|Bulk fluid|Periodic|Reflective"/>
        </String>
        <String name="bcrtf" label="Right boundary condition">
            <Menu options="Wall|Bulk fluid|Periodic|Reflective"/>
        </String>
    </Fields>
</Class>

<Class type="OneDMesh" label="1-D Mesh" base="RealSpaceMesh">
    <Fields>
        <Xdim name="xdim" label="X-dimension specifications"/>
    </Fields>
</Class>


<!--****************** Startup control ***********************-->
<Class type="GuessOptions" label="Initial guess options" 
    collapsible="false" >
</Class>

<Class type="GuessConstBulk" 
    label="Constant density (bulk)"
    base="GuessOptions">
</Class>

<Class type="GuessConstLiquid" 
    label="Constant density (liquid coexistence)"
    base="GuessOptions">
</Class>

<Class type="GuessConstVapor" 
    label="Constant density (vapor coexistence)"
    base="GuessOptions">
</Class>

<Class type="GuessIdealBulk" 
    label="Ideal gas (bulk)"
    base="GuessOptions">
</Class>

<Class type="GuessIdealLiquid" 
    label="Ideal gas (liquid coexistence)"
    base="GuessOptions">
</Class>

<Class type="GuessIdealVapor" 
    label="Ideal gas (vapor coexistence)"
    base="GuessOptions">
</Class>

<Class type="GuessSteppedBulk" 
    label="Stepped (bulk)"
    base="GuessOptions">
    <Fields>
        <Double name="thickness" label="Thickness" default="0.0" lower="0.0" 
            optional="false"/>
    </Fields>
</Class>

<Class type="GuessSteppedLiquid"
    label="Stepped (liquid)"
    base="GuessOptions">
    <Fields>
        <Double name="thickness" label="Thickness" default="0.0" lower="0.0" 
            optional="false"/>
    </Fields>
</Class>

<Class type="GuessSteppedVapor" 
    label="Stepped (vapor)"
    base="GuessOptions">
    <Fields>
        <Double name="thickness" label="Thickness" default="0.0" lower="0.0" 
            optional="false"/>
    </Fields>
</Class>

<Class type="GuessSteppedLiquidVapor" 
    label="Stepped (between liquid and vapor)"
    base="GuessOptions">
    <Fields>
        <Double name="thickness" label="Thickness" default="0.0" lower="0.0" 
            optional="false"/>
    </Fields>
</Class>

<Class type="GuessLinearLiquidVapor" 
    label="Linear (between liquid and vapor)"
    base="GuessOptions">
    <Fields>
        <Double name="thickness" label="Thickness" default="0.0" lower="0.0" 
            optional="false"/>
    </Fields>
</Class>

<Class type="RestartOptions" label="Restart options"
    collapsible="false">
</Class>

<Class type="RestartNoRestartFile" label="No restart file" 
    base="RestartOptions">
    <Fields>
        <GuessOptions name="guessOptions" label="Initial guess"/>
    </Fields>
</Class>

<Class type="RestartFromFile" label="Use restart file as is"
    base="RestartOptions">
</Class>

<Class type="RestartFromFileWithThickness" 
    label="Use restart file and thickness parameter"
    base="RestartOptions">
    <Fields>
        <String name="startGuess1" label="Initial guess">
            <Menu options="Stepped (bulk)|Stepped (liquid-coexistence)|Stepped (vapor-coexistence)|Stepped (between liquid and vapor)" />
        </String>
        <Double name="thickness" label="Stepped thickness" default="0.0" lower="0.0" optional="false"/>
    </Fields>
</Class>

<Class type="RestartFromFileWithOldDensity"
    label="Use restart file and old density unknowns"
    base="RestartOptions">
</Class>

<Class type="StartupControl" label="Startup Control">
    <Fields>
        <String name="liquidVapor"
            label="Liquid-vapor coexistence">
            <Menu options="Off and don't calculate coexistence properties|Off but calculate bulk coexistence properties|Wall-vapor|Wall-liquid|Liquid-vapor"/>
        </String>
        <RestartOptions name="restartOptions" label="Restart"/>
        <Double name="rhoMax" label="Rho max" default="0.0" optional="false"/>
    </Fields>
</Class>


<!--*************** Mesh continuation control ****************-->

<Class type="MeshContinuation1D" label="Mesh continuation">
    <Fields>
        <Integer name="nRunsFirst" label="Number of runs" default="1" 
            lower="1" optional="false"/>
        <String name="planeNewNodes" 
            label="Line for node addition/subtraction"
            editable="false">
            <Menu options="x"/>
        </String>
        <String name="positionNewNodes"
            label="Position of new node line">
            <Menu options="Left |Center |Right"/>
        </String>
        <Double name="changeX" 
            label="Box size change in X direction"
            default="0.0" lower="0.0" optional="false"/>
        <Double name="guessRange1" 
            label="Surface separation to stop using 100% Rho_b"
            default="0.0" lower="0.0" optional="false"/>
        <Double name="guessRange2"
            label="Surface separation where to start using 100% X_old"
            default="0.0" lower="0.0" optional="false"/>
    </Fields>
</Class>


<!--**************** Output format control *******************-->

<Class type="OutputFormat" label="Output format">
    <Fields>
        <Boolean name="areaScaling" label="Scale output by surface area" 
            default="false" optional="false"/>
        <Boolean name="printGr" label="Output radial distribution function" 
            default="false" optional="false"/>
        <Boolean name="compareFastram" label="Compare to FasTram" 
            default="false" optional="false"/>
        <String name="densityType" label="Density data to output">
            <Menu options="All output in default files (dft_dens.dat, dft_dens2.dat or dft_dens.datg)|Output from each run in a different file (dft_dens0.0, dft_dens1.0...)"/>
        </String>
        <String name="densitySwitch" label="Density output includes">
            <Menu options="Only densities (rho_b sigma^3)|Pressure (p / p_sat only valid for a 1 component LJ fluid)|Debye screening length (1/k only valid for electrolytes)|Chemical potential (mu / kT)"/>
        </String>
        <String name="meshSwitch" label="Mesh representation in fouce output">
            <Menu options="Print surface separations between all pairs of surfaces|Print surface positions at the center of each surface"/>
        </String>
        <Boolean name="printHeader" label="Print header in force output file" 
            default="false" optional="false"/>
        <String name="outputQuantity" label="Output quantity">
            <Menu options="Minimal output, no density profiles|Minimal output and density profiles|Verbose"/>
        </String>
    </Fields>
</Class>

<!--**************** Coarsening switches *********************-->
<Class type="PanelOfCoarseningDistance" label="Zone"
    collapsible="false">
    <Fields>
        <Integer name="zoneNumber" label="Zone" default="0" 
            lower="0" optional="false"/>
        <Double name="distance" 
            label="Distance from surface where zone is active" 
            default="0.0" lower="0.0" optional="false"/>
    </Fields>
</Class>

<Class type="CoarseningZones" label="Coarsening zones" 
    collapsible="true">
    <Fields>
        <Array name="coarseningZoneArray" 
            label="Zone">
            <Master label="$zoneNumber">
                <PanelOfCoarseningDistance
                    name="panelOfCoarseningDistance"
                    label="Zone" />
            </Master>
        </Array>
    </Fields>
</Class>

<Class type="JacobianCoarsening" label="Jacobian coarsening">
</Class>

<Class type="NoJacobianCoarsening" label="None" 
    base="JacobianCoarsening">
</Class>

<Class type="FinestZoneJacobianCoarsening" 
    label="Only finest zone by factor of two" 
    base="JacobianCoarsening">
</Class>

<Class type="AllButMostCoarseJacobianCoarsening" 
    label="All but the most coarse zone by a factor of two" 
    base="JacobianCoarsening">
</Class>

<Class type="UseCoarsestZoneJacobianCoarsening" 
    label="Use mesh spacing in the coarsest zone for all zones" 
    base="JacobianCoarsening">
</Class>

<Class type="UsePenultimateZoneJacobianCoarsening" 
    label="Use mesh spacing in the penultimate coarsest zone for all zones except coarsest" 
    base="JacobianCoarsening">
</Class>

<Class type="UseConstantMeshSpacingJacobianCoarsening" 
    label="Use a constant mesh spacing"
    base="JacobianCoarsening">
    <Fields>
        <Double name="eSizeJacobian" label="Mesh spacing" default="0.0" optional="false"/>
    </Fields>
</Class>

<Class type="JacobianCutOff" label="Jacobian integral cut off threshold">
</Class>

<Class type="NoJacobianCutOff" label="None" base="JacobianCutOff">
</Class>

<Class type="YesJacobianCutOff" label="Yes" base="JacobianCutOff">
    <Fields>
        <Double name="threshold" label="Cut off threshold" default="0.0" optional="false"/>
    </Fields>
</Class>

<Class type="CoarseningSwitches" label="Coarsening switches">
    <Fields>
        <Table name="zoneTable" label="Coarsening zones"
            collapsible="false">
            <Header name="zoneTableHeader" 
                label="Coarsening zone distances">
                <Double name="distance" 
                    label="Distance from surface where zone is active" 
                    default="0.0" lower="0.0" optional="false"/>
            </Header>
            <Entries>
                <Entry> 
                    <Cell field="distance" value="0"/>
                </Entry>
            </Entries>
        </Table>
        <Boolean name="coarsenResidual" label="Coarsen residual equations" 
            default="false" optional="false"/>
        <JacobianCoarsening name="jacobianCoarsening" label="Jacobian coarsening"/>
        <JacobianCutOff name="jacobianCutOff" label="Jacobian cut off"/>
        <String name="matrixFillFlag" label="Matrix filling options">
            <Menu options="Use an exact Jacobian with embeded nonlocal density|Use minimal set Jacobian based on w(3) and w(2) contributions|Use minimal set Jacobian with all scalar terms and no vector terms|Use enumerated nonlocal density formulation|Use enumerated nonlocal density formulation including scalar contributions in the Jacobian"/>
        </String>
    </Fields>
</Class>


<!--**************** Nonlinear solver ************************-->
<Class type="NonlinearSolver" label="Nonlinear solver">
    <Fields>
        <Integer name="maxNewtonIterations" label="Maximum number of Newton iterations"
            default="50" lower="0" optional="false"/>
        <Double name="relativeConvergence" label="Relative convergence tolerance"
            default="1.0e-3" lower="0.0" optional="false"/>
        <Double name="absoluteConvergence" label="Absolute convergence tolerance"
            default="1.0e-8" lower="0.0" optional="false"/>
        <String name="loadBalanceSwitch" label="Load balancing">
            <Menu options="Linear|Box|Weights|Timings"/>
        </String>
    </Fields>
</Class>


<!--****************** Linear solver *************************-->
<Class type="LinearSolver" label="Linear solver">
    <Fields>
        <String name="solver" label="Solver">
            <Menu options="grmes|cg|tfqmr|cg2|bicgstab"/>
        </String>
        <String name="scaling" label="Scaling">
            <Menu options="none|row-sum|Jacobian|symmetric row-sum"/>
        </String>
        <String name="preconditioner" label="Preconditioner">
            <Menu options="none|ilu|Jacobian|symGS|LSpoly3|ilut (3 levels)|ilut (7 levels)"/>
        </String>
        <Double name="ilutfillparam" label="Fill parameter for ilut preconditioner (only for ilut)"
            default="0" optional="false" />
        <Integer name="kspace" 
            label="Gmres kspace parameter (only for gmres solver)" default="30" 
            lower="0" optional="false"/>
        <Integer name="maxIterations" 
            label="Maximum number of iterations" default="50" 
            lower="0" optional="false"/>
        <Double name="convergenceTolerance" label="Convergence tolerance" 
            default="1.0e-4" lower="0.0" optional="false"/>

    </Fields>
</Class>


<!--**************LOCA continuation control ************-->
<Class type="ContinuationMethod" label="Continuation method">
</Class>

<Class type="NoContinuationMethod" label="None" base="ContinuationMethod">
</Class>

<Class type="ZerothContinuationMethod" label="Zeroth" base="ContinuationMethod">
    <Fields>
        <String name="continuationParameter" label="Continuation parameter">
            <Menu options="Temperature|Bulk density 0|Bulk density all|Log density 0|Log density all|Scale density|Surface-surface interaction energy 0|Surface-surface interaction energy all|Scale surface-surface interaction energy|Surface-fluid interaction energy 0|Surface-fluid interaction energy all|Scale surface-fluid interaction energy|Fluid-fluid interaction energy 0|Fluid-fluid interaction energy all|Scale fluid-fluid interaction energy|Constant scale change"/>
        </String>
        <Double name="parameterStepSize" label="Parameter step size" 
            default="0.0" optional="false"/>
        <Integer name="numberSteps" label="Number of steps" default="0" 
            lower="0" optional="false"/>
        <Double name="stepControl" 
            label="Step control aggressiveness (0.0 = constant step)"
            default="0.0" optional="false"/>
    </Fields>
</Class>

<Class type="FirstContinuationMethod" label="First" base="ContinuationMethod">
    <Fields>
        <String name="continuationParameter" label="Continuation parameter">
            <Menu options="Temperature|Bulk density 0|Bulk density all|Log density 0|Log density all|Scale density|Surface-surface interaction energy 0|Surface-surface interaction energy all|Scale surface-surface interaction energy|Surface-fluid interaction energy 0|Surface-fluid interaction energy all|Scale surface-fluid interaction energy|Fluid-fluid interaction energy 0|Fluid-fluid interaction energy all|Scale fluid-fluid interaction energy|Constant scale change"/>
        </String>
        <Double name="parameterStepSize" label="Parameter step size" 
            default="0.0" optional="false"/>
        <Integer name="numberSteps" label="Number of steps" default="0" 
            lower="0" optional="false"/>
        <Double name="stepControl" 
            label="Step control aggressiveness (0.0 = constant step)"
            default="0.0" optional="false"/>
    </Fields>
</Class>

<Class type="ArcLengthContinuationMethod" label="Arclength" base="ContinuationMethod">
    <Fields>
        <String name="continuationParameter" label="Continuation parameter">
            <Menu options="Temperature|Bulk density 0|Bulk density all|Log density 0|Log density all|Scale density|Surface-surface interaction energy 0|Surface-surface interaction energy all|Scale surface-surface interaction energy|Surface-fluid interaction energy 0|Surface-fluid interaction energy all|Scale surface-fluid interaction energy|Fluid-fluid interaction energy 0|Fluid-fluid interaction energy all|Scale fluid-fluid interaction energy|Constant scale change"/>
        </String>
        <Double name="parameterStepSize" label="Parameter step size" 
            default="0.0" optional="false"/>
        <Integer name="numberSteps" label="Number of steps" default="0" 
            lower="0" optional="false"/>
        <Double name="stepControl" 
            label="Step control aggressiveness (0.0 = constant step)"
            default="0.0" optional="false"/>
    </Fields>
</Class>

<Class type="SpinodalContinuationMethod" label="Spinodal (turning point)" 
    base="ContinuationMethod">
    <Fields>
        <String name="continuationParameter" label="First continuation parameter">
            <Menu options="Temperature|Bulk density 0|Bulk density All|Log density 0|Log density all|Scale density|Surface-surface interaction energy 0|Surface-surface interaction energy all|Scale surface-surface interaction energy|Surface-fluid interaction energy 0|Surface-fluid interaction energy all|Scale surface-fluid interaction energy|Fluid-fluid interaction energy 0|Fluid-fluid interaction energy all|Scale fluid-fluid interaction energy|Constant scale change"/>
        </String>
        <String name="continuationParameter2" label="Second continuation parameter">
            <Menu options="Temperature|Bulk density 0|Bulk density All|Log density 0|Log density all|Scale density|Surface-surface interaction energy 0|Surface-surface interaction energy all|Scale surface-surface interaction energy|Surface-fluid interaction energy 0|Surface-fluid interaction energy all|Scale surface-fluid interaction energy|Fluid-fluid interaction energy 0|Fluid-fluid interaction energy all|Scale fluid-fluid interaction energy|Constant scale change"/>
        </String>
        <Double name="parameterStepSize" label="Parameter step size" 
            default="0.0" optional="false"/>
        <Integer name="numberSteps" label="Number of steps" default="0" 
            lower="0" optional="false"/>
        <Double name="stepControl" 
            label="Step control aggressiveness (0.0 = constant step)"
            default="0.0" optional="false"/>
    </Fields>
</Class>

<Class type="BinodalContinuationMethod" label="Binodal (phase eq.)" 
    base="ContinuationMethod">
    <Fields>
        <String name="continuationParameter" label="First Continuation parameter">
            <Menu options="Temperature|Bulk density 0|Bulk density All|Log density 0|Log density all|Scale density|Surface-surface interaction energy 0|Surface-surface interaction energy all|Scale surface-surface interaction energy|Surface-fluid interaction energy 0|Surface-fluid interaction energy all|Scale surface-fluid interaction energy|Fluid-fluid interaction energy 0|Fluid-fluid interaction energy all|Scale fluid-fluid interaction energy|Constant scale change"/>
        </String>
        <String name="continuationParameter2" label="Second continuation parameter">
            <Menu options="Temperature|Bulk density 0|Bulk density All|Log density 0|Log density all|Scale density|Surface-surface interaction energy 0|Surface-surface interaction energy all|Scale surface-surface interaction energy|Surface-fluid interaction energy 0|Surface-fluid interaction energy all|Scale surface-fluid interaction energy|Fluid-fluid interaction energy 0|Fluid-fluid interaction energy all|Scale fluid-fluid interaction energy|Constant scale change"/>
        </String>
        <Double name="parameterStepSize" label="Parameter step size" 
            default="0.0" optional="false"/>
        <Integer name="numberSteps" label="Number of steps" default="0" 
            lower="0" optional="false"/>
        <Double name="stepControl" 
            label="Step control aggressiveness (0.0 = constant step)"
            default="0.0" optional="false"/>
    </Fields>
</Class>

<Class type="LocaContinuation" label="Loca continuation">
    <Fields>
        <ContinuationMethod name="continuationMethod" label="Continuation method"/>
    </Fields>
</Class>


<!--**************Computational Parameters Menu**************-->
<Class type="ComputationalParameters1D" label="Computational Parameters"
    collapsible="true" beginCollapsed="true">
    <Fields>
        <OneDMesh name="meshParameters" label="Mesh parameters" />
        <!--
            for now skip calculation method since only real space is available 
        <CalculationMethod name="calculationMethod" label="Calculation method"/>
        -->
        <StartupControl name="startupControl" label="Startup control"/>
        <MeshContinuation1D name="meshContinuation" label="Mesh cotinuation"/>
        <OutputFormat name="outputFormat" label="Output format"/>
        <CoarseningSwitches name="coarseningSwitches" 
            label="Coarsening switches"/>
        <NonlinearSolver name="nonlinearSolver" label="Nonlinear solver"/>
        <LinearSolver name="linearSolver" label="Linear solver"/>
        <LocaContinuation name="locaContinuation"
            label="Loca continuation"/>
    </Fields>
</Class>

</Maui>
