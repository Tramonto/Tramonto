

How to build Tramonto

1) type ./configure

The configure script will look for libraries needed to compile
Tramonto and build those that it cannot find.

The configure program can automatically set up Tramonto to build on
the following platforms:
    linux (intel family), 
    Compac/DEC True64, 
    Compac/DEC Linux,
    Silicon Graphics 
    Sun Solaris Workstations

and several custom parallel machines:
    alaska  (Sandia National Labs, Cplant alaska)
    delmar  (Sandia National Labs, California Cplant)
    janus   (Sandia National Labs, ASCI Red)
    ross    (Sandia National Labs, Cplant ross)
    west    (Sandia National Labs, Cplant west)

Also, any of the following options can be given to configure to alter the
build process:

  --enable-serial  
    This will build a serial version of Tramonto

  --enable-mpi     
    This will build a parallel version of Tramonto
    using the MPI parallel library.  This isn't really
    necessary at a parallel program is the default type.

  --enable-ldflags=...
    This allows the user to specify extra linker flags for the
    build. For example if some libraries are stored in /home/me/lib
    then the option --enable-ldflags=-L/home/me/lib will look in that
    directory for libraries

  --enable-cflags=...
  --enable-fflags=...
    With these options one can pass special compiler flags to 
    the c or fortran compilers used in building Tramonto.

  --enable-sgi32
    By default, a 64 bit program is built on SGI machines, but
    if one needs a 32 bit version, then this flag forces the
    compiler to build such a version.    

  --disable-special-host-checking
    By default the configure script checks if you're building
    one of the the custom parallel machines mentioned above.
    If for some reason this prevents configure from determining 
    you type of machine, you can turn it off with this option.

  --host=...
    Configure can normally figure out what host you're compiling
    for, but if it can't you can specify one of the following
    as your host
    pc-linux
    alpha-dec-osf
    alpha-linux
    mpis-sgi-irix
    sun-solaris
    alaska
    delmar
    janus
    ross
    west

2) type make

After make finishes, a copy of the Tramonto binary will be placed in 
this directory.  The binary's name will depend on platform with 
the following platforms currently supported:

platform                             binary name
Compac/Digital Osf                   xdft_dec_osf
Compac/Digital Linux                 xdft_dec_linux
Intel Linux                          xdft_intel_linux
SGI Irix                             xdft_sgi_irix
Sun Solaris                          xdft_sun_solaris
ASCI Red (TFLOP)                     xdft_intel_tflop
Compac Alaska Cplant                 xdft_dec_alaska
Compac Delmar Cplant                 xdft_dec_delmar
Compac Ross Cplant                   xdft_dec_ross
Compac Ross Cplant                   xdft_dec_west


To clean up after a build type "make clean" after which configure 
can be run again to build a different version of Tramonto.



How to run the graphical user interface

The graphical user interface is run through a program called "Maui".
Maui reads a series of configuration file that describes the
interface and then helps you enter valid simulation parameters for
your problem of interest. 

To run Maui do the following.

1) Define the environment variable IDEA_HOME to point to the location
of the top level Tramonto directory.  For example, if you've unpacked
Tramonto in /home/myAccount/src/, so that there is now a directory
called /home/myAccount/src/Tramonto, then set IDEA_HOME to
/home/myAccount/src/Tramonto. 

2) Add to your path the location of Maui's startup script by adding
$IDEA_HOME/Idea/Java/bin to your path.  You may have to type "source
~/.cshrc" or "source ~/.bash_profile" or even logoff and back on again
to get your changes to your path to show up in your current shell.

3) Start Maui by typing "Maui.e"

4) On your first time running Maui you'll have to tell it where to
find the Tramonto configuration files.  When Maui starts up click on
the "Configure Maui" button.

5) In the window that just opened, click on the "Package Names" tab
and then click on the "Add" button.  In the dialog box that just
popped up, type "Tramonto" in the box that's labeled "package".  Note,
that the case of "Tramonto" is important, so typing "tramonto" won't
work.  Click "Ok" to close this dialog box.

6) Next, click on the "Services to Add" tab and then click on the
"Add" button.  In the dialog box that just opened, in the box labeled
"service" type your value for IDEA_HOME followed by
/guiSupport/Tramonto.xml.  If IDEA_HOME was
"/home/myAccount/src/Tramonto" then you'll type
"/home/myAccount/src/Tramonto/guiSupport/Tramonto.xml" In the box
labeled "label" type "Tramonto".  Make sure the check box "To be
included" is checked and then click "OK" to close this dialog
box.

7) Next, click on the tab labeled "Classpath entries", click on the
button labeled "Add" and in the dialog box that just opened type in
your value for IDEA_HOME followed by /guiSupport/Tramonto.jar".  Thus
if your value for IDEA_HOME was "/home/myAccount/src/Tramonto" then
you would type
"/home/myAccount/src/Tramonto/guiSupport/Tramonto.jar".  Now click on
"Ok" to close this dialog box.

8) Well, that was the wort of it. Now click on "Save Config" then
"Apply Settings" and then "Close"  Maui will ask if you're sure you
want to close this window, so click on "Yes".  That was the end of the
configuration work -- if you don't move the Tramonto or Idea
directories, you'll never have to do steps 1 through 8 again and can
just skip to step 9.

9) To start the Tramonto part of the Maui interface click on the "Start
New Session" button.  

10) In a few moments, a window will pop up on the
second line of which is a label saying "Select subclass" and next to
it a pull down box.  From the pull down box select "Tramonto".  You'll
now have the Tramonto interface up and you can begin entering values.
To save your work click on "Save XML" and to restore it click on "Read
XML".  When you're ready to convert your input to a file that Tramonto
can understand click on "Submit".



